import { Scene, Circle, Rectangle, Color }
    from "https://unpkg.com/pencil.js/dist/pencil.esm.js";

const scene = new Scene(undefined, {
    fill: new Color(), // Use the Color object as fill option
});
const { width, height } = scene;
scene.cursorPosition.set(scene.center).subtract(0, height / 4);

const sun = new Circle(scene.center.add(0, height / 2), 100, {
    fill: "orange",
});

const ocean = new Rectangle([0, height / 2], width, height / 2, {
    fill: "#28488f",
});

scene
    .add(sun, ocean)
    .startLoop()
    .on("draw", () => {
        sun.position.lerp(scene.cursorPosition, 0.05);

        // Ratio of the sun setting
        const sunSettingRatio = (sun.position.y - height / 4) / (height / 2);
        scene.options.fill
            // Reset the color to daylight blue
            .set("#45a8ff")
            // Change it according to the sun's setting ratio
            .lerp("#150a1b", sunSettingRatio);
    }, true);
